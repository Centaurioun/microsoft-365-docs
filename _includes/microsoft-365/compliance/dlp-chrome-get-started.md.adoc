= Get started with the Microsoft Purview Extension
:audience: ITPro
:author: chrfox
:description: Prepare for and deploy the Microsoft Purview Extension.
:f1.keywords: ["CSH"]
:f1_keywords: ["ms.o365.cc.DLPLandingPage"]
:manager: laurawi
:ms.author: chrfox
:ms.collection: ["M365-security-compliance", "m365solution-mip", "m365initiative-compliance"]
:ms.custom: admindeeplinkCOMPLIANCE
:ms.date:
:ms.localizationpriority: high
:ms.service: O365-seccomp
:ms.topic: conceptual
:search.appverid: ["MET150"]

== Get started with Microsoft Purview Extension

Use these procedures to roll out the Microsoft Purview Extension.

=== Before you begin

To use Microsoft Purview Extension, the device must be onboarded into endpoint DLP.
Review these articles if you are new to DLP or endpoint DLP

* xref:dlp-chrome-learn-about.adoc[Learn about Microsoft Purview Extension]
* xref:dlp-learn-about-dlp.adoc[Learn about Microsoft Purview Data Loss Prevention]
* xref:create-test-tune-dlp-policy.adoc[Create, test, and tune a DLP policy]
* xref:create-a-dlp-policy-from-a-template.adoc[Create a DLP policy from a template]
* xref:endpoint-dlp-learn-about.adoc[Learn about endpoint data loss prevention]
* xref:endpoint-dlp-getting-started.adoc[Get started with Endpoint data loss prevention]
* xref:device-onboarding-overview.adoc[Onboarding tools and methods for Windows 10 devices]
* link:device-onboarding-configure-proxy.md#configure-device-proxy-and-internet-connection-settings-for-information-protection[Configure device proxy and internet connection settings for Information Protection]
* xref:endpoint-dlp-using.adoc[Using Endpoint data loss prevention]

==== SKU/subscriptions licensing

Before you get started, you should confirm your https://www.microsoft.com/microsoft-365/compare-microsoft-365-enterprise-plans?rtc=1[Microsoft 365 subscription] and any add-ons.
To access and use Endpoint DLP functionality, you must have one of these subscriptions or add-ons.

* Microsoft 365 E5
* Microsoft 365 A5 (EDU)
* Microsoft 365 E5 compliance
* Microsoft 365 A5 compliance
* Microsoft 365 E5 information protection and governance
* Microsoft 365 A5 information protection and governance

For detailed licensing guidance, see link:/office365/servicedescriptions/microsoft-365-service-descriptions/microsoft-365-tenantlevel-services-licensing-guidance/microsoft-365-security-compliance-licensing-guidance#information-protection[Microsoft 365 licensing guidance for security & compliance].

* Your org must be licensed for Endpoint DLP
* Your devices must be running Windows 10 x64 build 1809 or later.
* The device must have Antimalware Client Version is 4.18.2202.x or later.
Check your current version by opening *Windows Security* app, select the *Settings* icon, and then select *About*.

==== Permissions

Data from Endpoint DLP can be viewed in xref:data-classification-activity-explorer.adoc[Activity explorer].
There are seven roles that grant permission to activity explorer, the account you use for accessing the data must be a member of any one of them.

* Global admin
* Compliance admin
* Security admin
* Compliance data admin
* Global reader
* Security reader
* Reports reader

===== Roles and Role Groups in preview

There are roles and role groups in preview that you can test out to fine tune your access controls.

Here's a list of applicable roles that are in preview.
To learn more about them, see link:../security/office-365-security/permissions-in-the-security-and-compliance-center.md#roles-in-the-security--compliance-center[Roles in the Security & Compliance Center]

* Information Protection Admin
* Information Protection Analyst
* Information Protection Investigator
* Information Protection Reader

Here's a list of applicable role groups that are in preview.
To learn more about the, see link:../security/office-365-security/permissions-in-the-security-and-compliance-center.md#role-groups-in-the-security--compliance-center[Role groups in the Security & Compliance Center]

* Information Protection
* Information Protection Admins
* Information Protection Analysts
* Information Protection Investigators
* Information Protection Readers

==== Overall installation workflow

Deploying the extension is a multi-phase process.
You can choose to install on one machine at a time, or use Microsoft Endpoint Manager or Group Policy for organization-wide deployments.

. <<prepare-your-devices,Prepare your devices>>.
. <<basic-setup-single-machine-selfhost,Basic Setup Single Machine Selfhost>>
. <<deploy-using-microsoft-endpoint-manager,Deploy using Microsoft Endpoint Manager>>
. <<deploy-using-group-policy,Deploy using Group Policy>>
. <<test-the-extension,Test the extension>>
. <<use-the-alerts-management-dashboard-to-viewing-chrome-dlp-alerts,Use the Alerts Management Dashboard to viewing Chrome DLP alerts>>
. <<viewing-chrome-dlp-data-in-activity-explorer,Viewing Chrome DLP data in activity explorer>>

==== Prepare infrastructure

If you are rolling out the extension to all your monitored Windows 10 devices, you should remove Google Chrome from the unallowed app and unallowed browser lists.
For more information, see link:dlp-configure-endpoint-settings.md#unallowed-browsers[Unallowed browsers].
If you are only rolling it out to a few devices, you can leave Chrome on the unallowed browser or unallowed app lists.
The extension will bypass the restrictions of both lists for those computers where it is installed.

==== Prepare your devices

. Use the procedures in these topics to onboard your devices:
 .. xref:endpoint-dlp-getting-started.adoc[Get started with Endpoint data loss prevention]
 .. xref:device-onboarding-overview.adoc[Onboarding Windows 10 and Windows 11 devices]
 .. link:device-onboarding-configure-proxy.md#configure-device-proxy-and-internet-connection-settings-for-information-protection[Configure device proxy and internet connection settings for Information Protection]

==== Basic Setup Single Machine Selfhost

This is the recommended method.

. Navigate to https://chrome.google.com/webstore/detail/microsoft-compliance-exte/echcggldkblhodogklpincgchnpgcdco[Microsoft Purview Extension - Chrome Web Store (google.com)].
. Install the extension using the instructions on the Chrome Web Store page.

==== Deploy using Microsoft Endpoint Manager

Use this setup method for organization-wide deployments.

===== Microsoft Endpoint Manager Force Install Steps

Before adding the extension to the list of force-installed extensions, it is important to ingest the Chrome ADMX.
Steps for this process in Microsoft Endpoint Manager are documented by Google: https://support.google.com/chrome/a/answer/9102677?hl=en#zippy=%2Cstep-ingest-the-chrome-admx-file-into-intune[Manage Chrome Browser with Microsoft Intune - Google Chrome Enterprise Help].

After ingesting the ADMX, the steps below can be followed to create a configuration profile for this extension.

. Sign in to the Microsoft Endpoint Manager Admin Center (https://endpoint.microsoft.com).
. Navigate to Configuration Profiles.
. Select *Create Profile*.
. Select *Windows 10* as the platform.
. Select *Custom* as profile type.
. Select the *Settings* tab.
. Select *Add*.
. Enter the following policy information.
+
OMA-URI: `./Device/Vendor/MSFT/Policy/Config/Chrome~Policy~googlechrome~Extensions/ExtensionInstallForcelist` +  Data type: `String` +  Value: `+<enabled/><data id="ExtensionInstallForcelistDesc" value="1&#xF000;
echcggldkblhodogklpincgchnpgcdco;https://clients2.google.com/service/update2/crx"/>+`

. Click create.

==== Deploy using Group Policy

If you don't want to use Microsoft Endpoint Manager, you can use group policies to deploy the extension across your organization.

===== Adding the Chrome Extension to the ForceInstall List

. In the Group Policy Management Editor, navigate to your OU.
. Expand the following path *Computer/User configuration* > *Policies* > *Administrative templates* > *Classic administrative templates* > *Google* > *Google Chrome* > *Extensions*.
This path may vary depending on your configuration.
. Select *Configure the list of force-installed extensions*.
. Right click and select *Edit*.
. Select *Enabled*.
. Select *Show*.
. Under *Value*, add the following entry: `+echcggldkblhodogklpincgchnpgcdco;https://clients2.google.com/service/update2/crx+`
. Select *OK* and then *Apply*.

==== Test the Extension

===== Upload to cloud service, or access by unallowed browsers Cloud Egress

. Create or get a sensitive item and, try to upload a file to one of your organization's restricted service domains.
The sensitive data must match one of our built-in xref:sensitive-information-type-entity-definitions.adoc[Sensitive Info Types], or one of your organization's sensitive information types.
You should get a DLP toast notification on the device you are testing from that shows that this action is not allowed when the file is open.

===== Testing other DLP scenarios in Chrome

Now that you've removed Chrome from the disallowed browsers/apps list, you can test the scenarios below to confirm the behavior meets your organization's requirements:

* Copy data from a sensitive item to another document using the Clipboard
 ** To test, open a file that is protected against copy to clipboard actions in the Chrome browser and attempt to copy data from the file.
 ** Expected Result: A DLP toast notification showing that this action is not allowed when the file is open.
* Print a document
 ** To test, open a file that is protected against print actions in the Chrome browser and attempt to print the file.
 ** Expected Result: A DLP toast notification showing that this action is not allowed when the file is open.
* Copy to USB Removeable Media
 ** To test, try to save the file to a removeable media storage.
 ** Expected Result: A DLP toast notification showing that this action is not allowed when the file is open.
* Copy to Network Share
 ** To test, try to save the file to a network share.
 ** Expected Result: A DLP toast notification showing that this action is not allowed when the file is open.

==== Use the Alerts Management Dashboard to viewing Chrome DLP alerts

. Open the *Data loss prevention* page in the https://go.microsoft.com/fwlink/p/?linkid=2077149[Microsoft Purview compliance portal] and select *Alerts*.
. Refer to the procedures in xref:dlp-configure-view-alerts-policies.adoc[How to configure and view alerts for your DLP policies] to view alerts for your Endpoint DLP policies.

==== Viewing Chrome DLP data in activity explorer

. Open the https://compliance.microsoft.com/dataclassification?viewid=overview[Data classification page] for your domain in the https://go.microsoft.com/fwlink/p/?linkid=2077149[Microsoft Purview compliance portal] and choose *Activity explorer*.
. Refer to the procedures in xref:data-classification-activity-explorer.adoc[Get started with Activity explorer] to access and filter all the data for your Endpoint devices.
+
____
[!div class="mx-imgBorder"] image:../media/endpoint-dlp-4-getting-started-activity-explorer.png[activity explorer filter for endpoint devices.]
____

==== Known Issues and Limitations

. Incognito mode is not supported and must be disabled.

=== Next steps

Now that you have onboarded devices and can view the activity data in Activity explorer, you are ready to move on to your next step where you create DLP policies that protect your sensitive items.

* xref:endpoint-dlp-using.adoc[Using Endpoint data loss prevention]

=== See also

* xref:endpoint-dlp-learn-about.adoc[Learn about Endpoint data loss prevention]
* xref:endpoint-dlp-using.adoc[Using Endpoint data loss prevention]
* xref:dlp-learn-about-dlp.adoc[Learn about data loss prevention]
* xref:create-test-tune-dlp-policy.adoc[Create, test, and tune a DLP policy]
* xref:data-classification-activity-explorer.adoc[Get started with Activity explorer]
* link:/windows/security/threat-protection/[Microsoft Defender for Endpoint]
* link:/windows/security/threat-protection/microsoft-defender-atp/configure-endpoints[Onboarding tools and methods for Windows 10 machines]
* https://www.microsoft.com/microsoft-365/compare-microsoft-365-enterprise-plans?rtc=1[Microsoft 365 subscription]
* link:/azure/active-directory/devices/concept-azure-ad-join[Azure AD joined devices]
* https://support.microsoft.com/help/4501095/download-the-new-microsoft-edge-based-on-chromium[Download the new Microsoft Edge based on Chromium]
