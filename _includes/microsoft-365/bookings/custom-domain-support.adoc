= 
camillepack

== Custom domain support in Bookings

Microsoft allows organizations to own more than one domain. The default
domain is onmicrosoft.com. You can read more about domains and how to
create them at link:/admin/setup/add-domain.md[Add a domain to Microsoft
365].

You can specify which domain will be used from the domain list for
Bookings using
link:/powershell/module/exchange/set-owamailboxpolicy?view=exchange-ps&preserve-view=true[OWA
mailbox policy]. Once the default domain policy is configured and
deployed, any new booking calendars created will have the configured
domain in the SMTP address.

For example: Booking pages can be created with a domain ``contoso.com''
instead of ``contoso.onmicrosoft.com''

You’re also allowed to configure a domain for specific users. When users
with the custom OWA policy create a Booking calendar, it will be created
with the custom domain, and not the default domain.

To use these features, you’ll need to run commands using Exchange Online
PowerShell with Global admin access. For more information on running
Exchange Online cmdlets, see
link:/powershell/exchange/connect-to-exchange-online-powershell?view=exchange-ps&preserve-view=true[Connect
to Exchange Online PowerShell].

____
[!NOTE] This change will not impact Bookings calendars that have already
been created. Only new calendars will be created using the configured
domain.
____

=== Specify default domain for entire organization

You’ll need to run the following commands using Exchange Online
PowerShell.

____
[!IMPORTANT] The steps below assume that no other Outlook Web App (OWA)
mailbox policies have been created in your organization.
____

[arabic]
. Sign in to the Microsoft 365 admin center as a global admin.
. In the admin center, go to *Settings* > *Domains* to check current
domains.
. Join into remote PowerShell command with the admin account and
complete the steps, such as install module and import module. Learn more
at
link:/powershell/exchange/connect-to-exchange-online-powershell?view=exchange-ps&preserve-view=true[Connect
to Exchange Online PowerShell].
. Check the current default domain using the command below:

[source,powershell]
----
   Get-OwaMailboxPolicy -Identity <OwaMailboxPolicy-Default> | Fl BookingsMailboxDomain
----

[arabic, start=5]
. Change current default domain to new domain.

[source,powershell]
----
   Set-OwaMailboxPolicy -Identity < OwaMailboxPolicy-Default > -BookingsMailboxDomain "<newdomain>"
----

This would change the default policy of all users and allow them to
create a booking calendar with the new domain.

____
[!NOTE] The OWA Mailbox policy can only be assigned by an admin account.
____

=== Configure custom domain for specific users

To configure a custom domain for a specific user, follow the steps below
after joining into remote PowerShell.

[arabic]
. Create a new OWA mailbox policy.

[source,powershell]
----
   New-OwaMailboxPolicy -Name “<custom-policy-name>”
----

For more information, see
link:/powershell/module/exchange/new-owamailboxpolicy?view=exchange-ps0&preserve-view=true[New-OwaMailboxPolicy].

[arabic, start=2]
. Configure the policy with a custom domain.

[source,powershell]
----
   Set-OwaMailboxPolicy -Identity “<custom-policy-name>” -BookingsMailboxDomain “<Custom-domain-name>"
----

[arabic, start=3]
. Set the new policy to specific users in the organization.

[source,powershell]
----
   Set-CASMailbox -Identity <User-email-address>-OwaMailboxPolicy “<custom-policy-name>”
----

For more information, see
link:/powershell/module/exchange/set-casmailbox?view=exchange-ps&preserve-view=true[Set-CASMailbox].

When users with the custom OWA policy create a Booking calendar, it will
be created with the custom domain, and not the default domain.
